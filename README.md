# go-auth0

## チュートリアルのサンプル

### Auth0 を設定する 

Auth0 に登録を行い Application Settings で以下の情報を確認します。

- Domain
- Client ID
- Client Secret 

### コールバックの URL を設定する

ユーザーが認証が完了したあとにリダイレクトされる URL を設定します。

### ログアウト URL を設定する

ログアウト後に遷移する URL を設定します。

### Auth0 を使用するために Go で設定する

#### 依存性の追加

Go Modules を使用しているのでビルドを行うと自動でパッケージが追加されます。

#### セッションの保存先を設定する

FileSystem を用いてセッションを保存する。

#### OAuth2 と OpenID Connect パッケージを設定する

OAuth2 と OIDC のクライアントを返します。

#### Auth0 のコールバックハンドラーを追加

Auth0 がアプリにリダイレクトされる先を作成する必要があります。

#### 認証をトリガーする

/login の URL にログインハンドラーを定義する

#### ユーザ情報を表示する

セッションに保存されたプロファイルによってユーザ情報にアクセス出来る。

#### ログアウト

ユーザーがログアウトを行った場合にはセッションを削除し、Auth0 に設定したエンドポイントへユーザをリダイレクトする。
/logout の URL にログアウトハンドラーを定義する

#### 追加のステップ

ユーザーが認証をしているか確認する。
Negroni を使うことによってユーザーが認証をしているかのミドルウェアを作成することができる。
セッションにプロファイルが存在するかのミドルウェアを作成する。

### 仕様ライブラリ
- gollia 
- godotenv
- negroni
